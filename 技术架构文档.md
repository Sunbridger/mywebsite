# 热榜数据查询平台 - 技术架构文档

## 项目概述

热榜数据查询平台是一个基于React的单页应用，用于展示和分析抖音、百度等平台的热门榜单数据。该平台提供数据查询、趋势分析、关键词提取等功能，帮助用户了解热点话题的分布和变化趋势。

## 技术栈

### 前端框架
- **React 18.2.0** - 用于构建用户界面的JavaScript库
- **Vite 7.1.7** - 现代前端构建工具，提供快速的开发服务器和构建功能
- **Ant Design 5.12.5** - 企业级UI设计语言和组件库
- **@ant-design/plots 1.2.3** - Ant Design的图表组件库，用于数据可视化

### 数据处理
- **Axios 1.6.2** - HTTP客户端，用于API请求
- **Day.js 1.11.10** - 轻量级日期处理库
- **Simple-statistics 7.8.8** - 简单统计功能库

### 开发工具
- **ESLint 9.36.0** - JavaScript代码检查工具
- **@vitejs/plugin-react 5.0.4** - Vite的React插件

## 系统架构

### 整体架构
```
热榜数据查询平台
├── 前端应用层
│   ├── 用户界面 (React组件)
│   └── 路由管理 (单页应用)
├── 业务逻辑层
│   ├── 数据获取 (API服务)
│   ├── 数据处理 (分析模块)
│   └── 状态管理 (React Hooks)
├── 数据层
│   ├── GitHub仓库 (JSON格式数据)
│   └── GitHub Actions (自动化数据采集)
└── 部署层
    └── GitHub Pages (静态网站托管)
```

### 目录结构
```
src/
├── App.jsx                 # 应用根组件
├── main.jsx               # 应用入口文件
├── styles/                # 全局样式
│   └── global.css
├── assets/                # 静态资源
└── DouyinHotList/         # 核心功能模块
    ├── index.jsx          # 主组件
    ├── api.js             # API请求模块
    ├── utils.js           # 工具函数
    ├── components/        # UI组件
    │   ├── ControlPanel.jsx     # 控制面板
    │   ├── StatsPanel.jsx       # 统计面板
    │   ├── HotListTable.jsx     # 热榜表格
    │   └── AdvancedAnalysis.jsx # 高级分析面板
    └── analysis/          # 数据分析模块
        └── contentAnalysis.js   # 内容分析类
```

## 核心功能模块

### 1. 数据获取模块 (api.js)
- **功能**：从GitHub仓库获取热榜数据
- **实现方式**：
  - 使用Axios发送HTTP请求
  - 支持单日数据和日期范围数据获取
  - 集成GitHub API，可触发数据更新工作流
- **数据源**：GitHub仓库的JSON文件，按日期和平台分类存储

### 2. 数据分析模块 (analysis/contentAnalysis.js)
- **功能**：对热榜数据进行多维度分析
- **主要功能**：
  - **关键词提取**：使用自定义中文分词算法提取标题中的关键词
  - **关键词趋势分析**：分析关键词在时间维度上的变化趋势
  - **话题聚类**：根据内容将热榜话题分类
  - **相关话题分析**：找出内容相似的热榜话题
- **技术实现**：
  - 自定义中文分词算法
  - 基于关键词的简单分类方法
  - 基于字符集的相似度计算

### 3. UI组件模块 (components/)
- **ControlPanel**：提供日期选择、平台切换等控制功能
- **StatsPanel**：展示热榜数据的统计信息
- **HotListTable**：以表格形式展示热榜数据
- **AdvancedAnalysis**：提供高级数据分析功能界面

## 数据流程

1. **数据采集**：
   - GitHub Actions定时运行爬虫程序
   - 爬取抖音、百度等平台的热榜数据
   - 将数据存储为JSON格式，按日期和平台分类

2. **数据获取**：
   - 前端通过API模块从GitHub仓库获取数据
   - 支持单日数据和日期范围数据获取
   - 可触发GitHub Actions更新最新数据

3. **数据处理与分析**：
   - 对获取的数据进行清洗和格式化
   - 使用分析模块进行关键词提取、趋势分析等
   - 生成可视化图表和统计信息

4. **数据展示**：
   - 通过表格、图表等形式展示数据
   - 提供交互式界面，支持数据筛选和排序
   - 展示分析结果和趋势变化

## 部署架构

### 自动化部署流程
1. **代码提交**：开发者将代码推送到GitHub仓库的main分支
2. **构建触发**：GitHub Actions自动检测到代码变更
3. **环境准备**：在Ubuntu虚拟机中安装Node.js环境
4. **依赖安装**：使用pnpm install安装项目依赖
5. **项目构建**：执行vite build命令生成静态文件
6. **部署发布**：将构建产物部署到GitHub Pages

### GitHub Actions工作流
- **触发条件**：推送到main分支或手动触发
- **主要步骤**：
  1. 检出代码
  2. 设置Node.js环境
  3. 安装依赖
  4. 构建项目
  5. 部署到GitHub Pages

## 性能优化

1. **代码分割**：使用React.lazy和Suspense实现组件懒加载
2. **数据缓存**：对API请求结果进行适当缓存
3. **构建优化**：
   - 使用Vite进行快速构建
   - 配置构建输出目录为dist
   - 设置base路径为'./'以适应GitHub Pages部署

## 扩展性设计

1. **模块化架构**：各功能模块独立，便于维护和扩展
2. **平台扩展**：支持添加更多平台的热榜数据
3. **分析功能扩展**：可增加更多数据分析维度和算法
4. **API接口设计**：预留接口，便于未来接入更多数据源

## 安全性考虑

1. **API密钥管理**：使用环境变量管理GitHub API密钥
2. **数据验证**：对获取的数据进行格式验证
3. **错误处理**：完善的错误处理机制，提高应用稳定性

## 未来发展方向

1. **增强分析功能**：引入更高级的NLP算法进行内容分析
2. **实时数据更新**：实现数据的实时推送和更新
3. **用户个性化**：添加用户系统，支持个性化推荐和收藏
4. **移动端适配**：优化移动端体验，考虑开发PWA应用
